<meta charset="utf-8"> 
<script> 

function getRandomInt(min, max)
	{
	return Math.floor(Math.random() * (max - min + 1)) + min;
	}

function getCard()
	{
	var cards = ['6', '7', '8', '9', '10', 'J', 'Q', 'K', 'A'];
	return cards[getRandomInt(0, cards.length - 1)];
	}

function getSum(arr)
	{
	var i = 0;
	var sum = 0;
	var price = 0;
	for(i=0; i<arr.length; i++)
		{
		if (arr[i] == '6')
			{
			price = 6;
			sum = sum + price;
			}
		else if (arr[i] == '7')
			{
			price = 7;
			sum = sum + price;
			}
		else if (arr[i] == '8')
			{
			price = 8;
			sum = sum + price;
			}
		else if (arr[i] == '9')
			{
			price = 9;
			sum = sum + price;
			}
		else if (arr[i] == '10')
			{
			price = 10;
			sum = sum + price;
			}
		else if (arr[i] == 'J')
			{
			price = 2;
			sum = sum + price;
			}
		else if (arr[i] == 'Q')
			{
			price = 3;
			sum = sum + price;
			}
		else if (arr[i] == 'K')
			{
			price = 4;
			sum = sum + price;
			}
		else 
			{
			price = 11;
			sum = sum + price;
			}
		}
	return sum;
	}

	//var dealer = ['7', 'J', 'Q', 'K'];
	//var player = ['10', 'A', '6', '8'];
var dealer = [getCard()];
var player = [getCard(), getCard()];

//alert('Дилер: ' + dealer.join(' ') + ' Игрок: ' + player.join(' '));
alert(getStatus() + ' Текущая сумма карт у игрока: ' + getSum(player) + '. Текущая сумма карт у дилера: ' + getSum(dealer));

function getStatus()
	{
	return 'Дилер: ' + dealer.join(' ') + ' Игрок: ' + player.join(' ') + '.';
	}
var answer = '';
var answer1 = '';
do {
do {
	//проверка суммы игрока
	if (getSum(player) == 21) 
		{
		alert('Ты выйграл!!! У тебя 21');
		break;
		}
		else if (getSum(player) > 21)
		{
		alert('Перебор :-( ');
		break;
		}
		else {
	answer = prompt(getStatus() + ' Текущая сумма карт у игрока: ' + getSum(player) + '. Текущая сумма карт у дилера: ' + getSum(dealer) + ' Хотите еще карту? 1 - да, иначе - нет');
	
	//сдаем карту игроку либо прекращаем игру
	if (answer == '1')
	{
	player.push(getCard());
	dealer.push(getCard());
	}
	//alert(getStatus());
	alert(getStatus() + ' Текущая сумма карт у игрока: ' + getSum(player) + '. Текущая сумма карт у дилера: ' + getSum(dealer));
	}
	} while(answer == '1');
			
	answer1 = prompt('Еще раз играть? 1 - да, иначе - нет');
	if (answer1 == 1)
	{
	var dealer = [getCard()];
	var player = [getCard(), getCard()];
	}
	} while(answer1 == '1');
//if (getSum(dealer)> 21)
	//{
	//alert('Ты выйграл!!!');
	//}
	//else if (getSum(player) <= 21 && getSum(player)>getSum(dealer))
	//{
	//alert('Ты выйграл!!!');
	//}
	//else 
	//{
	//alert('Ты проиграл');
	//}
	

</script>